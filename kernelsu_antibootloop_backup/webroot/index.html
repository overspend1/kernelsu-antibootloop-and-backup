<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KernelSU Anti-Bootloop & Backup</title>
    <meta name="description" content="Advanced system protection and backup management for KernelSU">
    <meta name="keywords" content="KernelSU, backup, bootloop, protection, android, root">
    <meta name="author" content="KernelSU Community">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/improvements.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iOCIgZmlsbD0idXJsKCNncmFkaWVudDApIi8+CjxwYXRoIGQ9Ik0xNiA4QzEyLjY4NjMgOCAxMCAxMC42ODYzIDEwIDE0VjE4QzEwIDIxLjMxMzcgMTIuNjg2MyAyNCAxNiAyNEMxOS4zMTM3IDI0IDIyIDIxLjMxMzcgMjIgMThWMTRDMjIgMTAuNjg2MyAxOS4zMTM3IDggMTYgOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNiAxMkMxNC44OTU0IDEyIDE0IDEyLjg5NTQgMTQgMTRWMThDMTQgMTkuMTA0NiAxNC44OTU0IDIwIDE2IDIwQzE3LjEwNDYgMjAgMTggMTkuMTA0NiAxOCAxOFYxNEMxOCAxMi44OTU0IDE3LjEwNDYgMTIgMTYgMTJaIiBmaWxsPSIjNjY3ZWVhIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50MCIgeDE9IjAiIHkxPSIwIiB4Mj0iMzIiIHkyPSIzMiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjNjY3ZWVhIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzc2NGJhMiIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo=">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>KernelSU Anti-Bootloop & Backup</h1>
            <p>Advanced system protection and backup management</p>
        </div>

        <div class="status-grid">
            <div class="status-card">
                <h3>System Protection</h3>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span class="status-text" id="protection-status">Active & Monitoring</span>
                </div>
                <p>Anti-bootloop protection is actively monitoring your system for potential issues.</p>
            </div>

            <div class="status-card">
                <h3>Latest Backup</h3>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span class="status-text" id="backup-status">Ready</span>
                </div>
                <p id="backup-info">System ready for backup operations.</p>
            </div>

            <div class="status-card">
                <h3>System Health</h3>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span class="status-text" id="health-status">Excellent</span>
                </div>
                <p id="health-info">System health monitoring active.</p>
            </div>

            <div class="status-card">
                <h3>Storage Usage</h3>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span class="status-text" id="storage-status">Available</span>
                </div>
                <p id="storage-info">Checking storage availability...</p>
            </div>
        </div>

        <!-- Navigation Tabs for Mobile -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('dashboard')" data-page="dashboard">Dashboard</button>
            <button class="nav-tab" onclick="switchTab('backup')" data-page="backup">Backup</button>
            <button class="nav-tab" onclick="switchTab('monitor')" data-page="monitor">Monitor</button>
            <button class="nav-tab" onclick="switchTab('settings')" data-page="settings">Settings</button>
        </div>

        <!-- Dashboard Tab -->
        <div class="tab-content active" id="dashboard-tab">
            <div class="actions-grid">
                <button class="action-btn primary" onclick="createBackup()">
                    <span class="btn-icon">üíæ</span>
                    <span>Create Backup</span>
                </button>
                <button class="action-btn" onclick="listBackups()">
                    <span class="btn-icon">üìã</span>
                    <span>List Backups</span>
                </button>
                <button class="action-btn" onclick="systemScan()">
                    <span class="btn-icon">üîç</span>
                    <span>System Scan</span>
                </button>
                <button class="action-btn" onclick="viewLogs()">
                    <span class="btn-icon">üìÑ</span>
                    <span>View Logs</span>
                </button>
                <button class="action-btn" onclick="optimizeSystem()">
                    <span class="btn-icon">‚ö°</span>
                    <span>Optimize System</span>
                </button>
                <button class="action-btn danger" onclick="emergencyMode()">
                    <span class="btn-icon">üö®</span>
                    <span>Emergency Mode</span>
                </button>
            </div>
        </div>

        <!-- Backup Tab -->
        <div class="tab-content" id="backup-tab">
            <div class="backup-manager">
                <div class="backup-controls">
                    <button class="action-btn primary" onclick="createScheduledBackup()">
                        <span class="btn-icon">‚è∞</span>
                        <span>Schedule Backup</span>
                    </button>
                    <button class="action-btn" onclick="createIncrementalBackup()">
                        <span class="btn-icon">üìà</span>
                        <span>Incremental Backup</span>
                    </button>
                    <button class="action-btn" onclick="exportBackup()">
                        <span class="btn-icon">üì§</span>
                        <span>Export Backup</span>
                    </button>
                    <button class="action-btn" onclick="importBackup()">
                        <span class="btn-icon">üì•</span>
                        <span>Import Backup</span>
                    </button>
                </div>
                <div class="backup-list" id="backup-list">
                    <h3>Available Backups</h3>
                    <div class="backup-items" id="backup-items">
                        <!-- Backup items will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Monitor Tab -->
        <div class="tab-content" id="monitor-tab">
            <div class="monitor-dashboard">
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>CPU Usage</h4>
                        <div class="metric-value" id="cpu-usage">--</div>
                        <div class="metric-chart" id="cpu-chart"></div>
                    </div>
                    <div class="metric-card">
                        <h4>Memory Usage</h4>
                        <div class="metric-value" id="memory-usage">--</div>
                        <div class="metric-chart" id="memory-chart"></div>
                    </div>
                    <div class="metric-card">
                        <h4>Storage Usage</h4>
                        <div class="metric-value" id="storage-usage">--</div>
                        <div class="metric-chart" id="storage-chart"></div>
                    </div>
                    <div class="metric-card">
                        <h4>Temperature</h4>
                        <div class="metric-value" id="temperature">--</div>
                        <div class="metric-chart" id="temp-chart"></div>
                    </div>
                </div>
                <div class="real-time-controls">
                    <button class="action-btn" onclick="toggleRealTimeMonitoring()" id="realtime-btn">
                        <span class="btn-icon">‚ñ∂Ô∏è</span>
                        <span>Start Real-time</span>
                    </button>
                    <button class="action-btn" onclick="exportMetrics()">
                        <span class="btn-icon">üìä</span>
                        <span>Export Metrics</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="tab-content" id="settings-tab">
            <div class="settings-panel">
                <div class="settings-section">
                    <h3>Backup Settings</h3>
                    <div class="setting-item">
                        <label for="auto-backup">Auto Backup</label>
                        <input type="checkbox" id="auto-backup" onchange="updateSetting('autoBackup', this.checked)">
                    </div>
                    <div class="setting-item">
                        <label for="backup-interval">Backup Interval (hours)</label>
                        <input type="number" id="backup-interval" min="1" max="168" value="24" onchange="updateSetting('backupInterval', this.value)">
                    </div>
                    <div class="setting-item">
                        <label for="max-backups">Max Backups to Keep</label>
                        <input type="number" id="max-backups" min="1" max="50" value="10" onchange="updateSetting('maxBackups', this.value)">
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Monitoring Settings</h3>
                    <div class="setting-item">
                        <label for="monitoring-enabled">Enable Monitoring</label>
                        <input type="checkbox" id="monitoring-enabled" checked onchange="updateSetting('monitoringEnabled', this.checked)">
                    </div>
                    <div class="setting-item">
                        <label for="alert-threshold">Alert Threshold (%)</label>
                        <input type="number" id="alert-threshold" min="50" max="95" value="80" onchange="updateSetting('alertThreshold', this.value)">
                    </div>
                </div>
                <div class="settings-section">
                    <h3>UI Settings</h3>
                    <div class="setting-item">
                        <label for="theme-select">Theme</label>
                        <select id="theme-select" onchange="updateSetting('theme', this.value)">
                            <option value="auto">Auto</option>
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="animations-enabled">Enable Animations</label>
                        <input type="checkbox" id="animations-enabled" checked onchange="updateSetting('animationsEnabled', this.checked)">
                    </div>
                </div>
            </div>
        </div>

        <div class="logs-container">
            <div class="logs-header">
                <h3>System Logs</h3>
                <button class="action-btn" onclick="refreshLogs()">Refresh</button>
            </div>
            <div class="logs-viewer" id="logs-viewer">
                <div class="log-entry info">[INFO] KernelSU Anti-Bootloop module initialized</div>
                <div class="log-entry success">[SUCCESS] System protection active</div>
                <div class="log-entry info">[INFO] WebUI interface loaded</div>
            </div>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Processing...</p>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/main.js"></script>
    <script src="app.js"></script>
</body>
</html>